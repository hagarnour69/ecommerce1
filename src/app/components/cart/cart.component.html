<section class="pt-5 mt-5 mb-3">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h2>Your Cart</h2>
        <p class="text-main">
          total price: {{ cartDetails.totalCartPrice }} EGP
        </p>
      </div>
      <div>
        <button class="btn btn-danger" (click)="clearCart()">Clear Cart</button>
      </div>
    </div>

    <div class="cart-items">
      @for (item of cartDetails.products; track item.product._id) {
      <div class="row align-items-center">
        <div class="col-md-2">
          <img [src]="item.product.imageCover" alt="" class="w-100" />
        </div>
        <div class="col-md-10">
          <div class="d-flex justify-content-between">
            <div class="p-2">
              <h4>{{ item.product.title }}</h4>
              <p class="text-main">price :{{ item.price }} EGP</p>
              <span
                class="btn btn-main border-0 bg-danger"
                (click)="deleteSpecificProduct(item.product._id)"
                ><i class="fa-solid fa-trash-can"></i> Remove</span
              >
            </div>
            <div class="d-flex gap-2">
              <span class="text-main cursor-pointer"
                ><i
                  class="fa-solid fa-circle-plus fs-5"
                  (click)="updateCount(item.product.id, item.count + 1)"
                ></i
              ></span>
              <span class="">{{ item.count }}</span>
              <span class="text-main cursor-pointer"
                ><i
                  class="fa-solid fa-circle-minus fs-5"
                  (click)="updateCount(item.product.id, item.count - 1)"
                ></i
              ></span>
            </div>
          </div>
        </div>
      </div>
      <hr />
      }
    </div>
    @if (empty) {
    <img
      src="../../../assets/images/empty_cart.png"
      alt=""
      class="w-50 h-50 img-fluid m-auto d-block"
    />
    }
    <button class="btn btn-main" [routerLink]="['/orders',cartDetails._id]">Orders</button>

  </div>
</section>
